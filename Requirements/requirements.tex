\documentclass[onecolumn, oneside, letterpaper, draftclsnofoot, 10pt, compsoc]{IEEEtran}

\usepackage{pdfpages}
\usepackage{graphicx}

\usepackage[english]{babel}

\usepackage[hyphens]{url}
\usepackage{setspace}
\usepackage{subcaption}

\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{alltt}
\usepackage{color}
\usepackage{enumitem}
\usepackage{textcomp}
\usepackage{cite}
\usepackage{listings}

\usepackage{lmodern}
\usepackage[hidelinks]{hyperref}
\usepackage[normalem]{ulem}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{lineno}
\usepackage{upquote}
\usepackage{fvextra}
\usepackage{fancyvrb}
\usepackage{minted}
\usepackage{longtable,hyperref}

\usepackage[margin=0.75in]{geometry}

\parindent = 0.0 in
\parskip = 0.0 in

\newcommand{\longtableendfoot}{Please continue at the next page}

% 1. Fill in these details
\def \CapstoneTeamName{         Beaver Hawks}
\def \CapstoneTeamNumber{       14}
\def \GroupMemberOne{           Anton Synytsia}
\def \GroupMemberTwo{           Matthew Phillips}
\def \GroupMemberThree{         Shanmukh Challa}
\def \GroupMemberFour{          Nathan Tan}
\def \CapstoneProjectName{      American Helicopter Society Micro Air Vehicle Competition}
\def \CapstoneSponsorCompany{   Potentially Columbia Helicopters}
\def \CapstoneSponsorPerson{    Nancy Squires}

% 2. Uncomment the appropriate line below so that the document type works
\def \DocType{Requirements Document
                %Technology Review
                %Design Document
                %Progress Report
                }

\newcommand{\NameSigPair}[1]{\par
\makebox[2.75in][r]{#1} \hfil   \makebox[3.25in]{\makebox[2.25in]{\hrulefill} \hfill        \makebox[.75in]{\hrulefill}}
\par\vspace{-12pt} \textit{\tiny\noindent
\makebox[2.75in]{} \hfil        \makebox[3.25in]{\makebox[2.25in][r]{Signature} \hfill  \makebox[.75in][r]{Date}}}}
% 3. If the document is not to be signed, uncomment the RENEWcommand below
%\renewcommand{\NameSigPair}[1]{#1}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\begin{titlepage}
    \pagenumbering{gobble}
    \begin{singlespace}
        %\includegraphics[height=4cm]{coe_v_spot1}
        \hfill
        % 4. If you have a logo, use this includegraphics command to put it on the coversheet.
        \begin{center}
        \includegraphics[height=4cm]{graphics/logo.eps}
        \end{center}
        \par\vspace{.2in}
        \centering
        \scshape{
            \huge CS Capstone \DocType \par
            {\large\today}\par
            \vspace{.5in}
            \textbf{\Huge\CapstoneProjectName}\par
            \vfill
            {\large Prepared for}\par
            \Huge \CapstoneSponsorCompany\par
            \vspace{5pt}
            {\Large\NameSigPair{\CapstoneSponsorPerson}\par}
            {\large Prepared by }\par
            Group\CapstoneTeamNumber\par
            % 5. comment out the line below this one if you do not wish to name your team
            \CapstoneTeamName\par
            \vspace{5pt}
            {\Large
                \NameSigPair{\GroupMemberOne}\par
                \NameSigPair{\GroupMemberTwo}\par
                \NameSigPair{\GroupMemberThree}\par
                \NameSigPair{\GroupMemberFour}\par
            }
            \vspace{20pt}
        }
        \begin{abstract}
        Oregon State University (OSU) is participating in this year's Mirco Air Vehicle Challenge hosted by the Vertical Flight Society (AHS). The OSU team is large and interdisciplinary. This document covers the basic structure of the team's software and its expected functionality.
        \end{abstract}
    \end{singlespace}
\end{titlepage}
\newpage
\pagenumbering{arabic}
\tableofcontents
% 7. uncomment this (if applicable). Consider adding a page break.
\listoffigures
%\listoftables
\clearpage

\section{Introduction}

\subsection{Purpose}
This document establishes definite project requirements of the CS team’s portion of the Vertical Flight Society’s (VFS) micro air vehicle (MAV) obstacle course challenge. Each requirement is described in detail.

\subsection{Scope}
This document is constrained to the CS team’s work on the MAV. These top-level features are the focus:
\begin{itemize}
    \item Display of onboard cameras and sensors
    \item Obstacle detection and avoidance
    \item Helipad target recognition
    \item Digital flight controls
\end{itemize}

\subsection{Product Overview}
This document covers the interactions between: the different features, how users are supposed to interact with the team’s MAV, assumptions made by the team, and the constraints faced by the team.

\subsubsection{Product Perspective}
The MAV will transmit sensor data, which the CS team’s software will capture and process. The software will use the data to make flight control decisions and then transmit the orders to the MAV. The software will provide a level of semi-autonomous control, but fall short of a fully autonomous system. The software exists to help the pilot, not to fly the craft.
\subsubsection{Product Functions}
The MAV will have a dedicated computer that handles data processing and flight controls. Computer software will process incoming camera and sensory information and provide the pilot with visual, and potentially auditory, feedback. Feedback includes coordination of helipad targets and obstacle warning detection. Particular information, regarding collision avoidance in particular, will be transmitted back to the MAV for flight control override.
\subsubsection{User Characteristics}
The MAV is controlled remotely by an experienced pilot. Visual display, pickup assist, and obstacle warning system will provide the pilot with additional information to navigate the MAV.

\subsubsection{Limitations}
The competition and the MAV should conform to the rules established by the Vertical Flight Society, which enforce safety considerations, inclusion of remote control functionality, a 500 gram weight limit, a 45 centimeter dimension limit in any direction, and inclusion of an onboard camera. The 500 gram weight limit and budget limitations prevent the use of desired hardware, including Intel RealSense camera, laser scanner, laser range finders, high bandwidth broadcasting equipment, and powerful onboard processing units.

\subsection{Apportioning of Requirements}
This gantt chart describes our estimated timeline of completing tasks. Each phase needs to be completed by the end of it’s width. Documents for the grade portion of this project are due by the end of each term, denoted by the green bars. In terms of the CS team, code for the various helicopter components should be feature complete by the end of winter term.
\begin{figure}[h!]
\centering
\includegraphics[width=1.0\textwidth]{graphics/completion_timeline.eps}
\caption{Completion Timeline}
\end{figure}

\subsection{Definitions}
\begin{itemize}
    \item \textbf{Computer Vision}: A subset of artificial intelligence that deals with providing information through visual and image data.
    \item \textbf{Convolutional Neural Network (CNN)}: A type of Neural Network that has learnable weights and biases that help to inference the data better. A CNN learns from each raw pixel from an image and assigns new weights to the convolution layer.
    \item \textbf{Convolutional Layer}: A layer of a CNN that performs the computations.
    \item \textbf{Dropout Layer}: A layer of the CNN that prevents overfitting of data.
    \item \textbf{Micro Air Vehicle (MAV)}: A remotely controlled, semi-autonomous, coaxial helicopter.
    \item \textbf{Package}: A sealed paper lunch bag, containing a pamphlet. A braided wire loop is attached at the top of the bag for acquirement.
    \item \textbf{Package A}: A package weighing between 20 and 25 grams.
    \item \textbf{Package B}: A package weighing between 25 and 30 grams.
\end{itemize}
\begin{figure}[h!]
\centering
\includegraphics[height=4cm]{graphics/bag.eps}
\caption{Package}
\end{figure}

\subsection{References}
[1]
\newblock Vertical Flight Society. (2018).
\newblock {\em 7th Annual VFS Micro Air Vehicle (MAV) Student Challenge} [PDF file].
\newblock Retrieved from \url{ https://vtol.org/files/dmfile/7th-annual-mav-student-challenge_v7_oct182018.pdf?fbclid=IwAR3-J_yJIKUKoGPBfsdJFAbjMUzXoxwg1hCXiQi6JnWZRLOnSMBRnMmQGKU}.

\section{Specific Requirements}
This section contains all the input and functional requirements of the MAV's software.

\subsection{External Interfaces}
The following section composes hardware components required for the software.

\noindent
\textbf{Tool ID: FC}\\
Name: Flight Controls\\
Description: Controls for adjusting cyclic, collective, anti-torque, and throttle.\\
Inputs: GRYO, ACCL, MRTRAN\\
Output: MRTRAN\\

\noindent
\textbf{Tool ID: GYRO}\\
Name: Gyroscope\\
Description: A gyroscope is needed to stabilize all three axes of alignment of the coaxial helicopter. The device will prevent the aircraft from flipping over and provide orientation data for flight controls.\\
Output destination: MRTRAN\\

\noindent
\textbf{Tool ID: ACCL}\\
Name: Accelerometer\\
Description: To keep the helicopter stable, there is a need for small reading changes in the motion of the helicopter. The addition of the accelerometer data will significantly improve the helicopter’s ability to maintain a stable position.\\
Output destination: MRTRAN\\

\noindent
\textbf{Tool ID: IRL}\\
Name: Infrared Laser\\
Description: Infrared lasers will point towards the front of the MAV, coming to a point in front of the craft. These lasers will interact with obstacles in front of the MAV.  The infrared camera will monitor the interactions between obstacles and the lasers.\\
Output destination: MRTRAN\\

\noindent
\textbf{Tool ID: IRCAM}\\
Name: Infrared Camera\\
Description: The infrared camera will see where the front facing infrared lasers hit objects in front of the MAV. The software will process the data to provide the pilot with information regarding the viability of the current flight path.\\
Output destination: MRTRAN

\noindent
\textbf{Tool ID: NCAM}\\
Name: Nose Camera\\
Description: Front facing color camera to provide the pilot with flight visuals.\\
Output destination: MRTRAN\\

\noindent
\textbf{Tool ID: ACAM}\\
Name: Acquire Camera\\
Description: Downward facing color camera to provide the pilot with flight visuals.\\
Output destination: MRTRAN\\

\noindent
\textbf{Tool ID: IRRANG}\\
Name: Infrared Rangefinders\\
Description: The infrared rangefinders will detect objects close to the MAV. They have a limited range of 30 cm. The infrared rangefinders will be positioned around the craft to provide the best possible coverage of the plane perpendicular to the floor.\\
Output destination: MRTRAN\\

\noindent
\textbf{Tool ID: URANG}\\
Name: Ultrasonic Rangefinders\\
Description: The ultrasonic rangefinders will detect objects at medium range from the MAV. They have a range of six meters. The ultrasonic rangefinders will be positioned around the craft to provide the best possible coverage of the plane perpendicular to the floor.\\
Output destination: MRTRAN\\

\noindent
\textbf{Tool ID: MRTRAN}\\
Name: MAV’s Radio Transmitter/Receiver\\
Description: The onboard transmitter will broadcast the MAV sensor data to the receiver connected to the team’s dedicated computer and receive flight control data.\\
Inputs: GRYO, ACCL, IRL, IRCAM, NCAM, ACAM, IRRANG, URANG, CRTRAN, FC\\
Output destination: CRTRAN, FC\\

\noindent
\textbf{Tool ID: CRTRAN}\\
Name: Computer Radio Transmitter/Receiver\\
Description: The radio transmitter/receiver connect to the pilot’s computer for communication with the MAV.\\
Input: MRTRAN\\
Output: MRTRAN, DPROC\\

\noindent
\textbf{Tool ID: DPROC}\\
Name: Processing Unit\\
Description: A dedicated, standalone computer for processing incoming camera and sensor data. Also responsible for processing commands for the MAV. Includes display, keyboard, joystick, and throttle.\\
Input: CRTRAN\\
Output: CRTRAN\\


\subsection{Functions}
The following section composes hardware software functionalities.

\noindent
\textbf{Feature ID: VDISP}\\
Name: Visual Display\\
Description: Outputs a user interface that displays sensor data.\\
Dependencies: None\\
Input: DPROC\\
Output: DPROC\\

\noindent
\textbf{Feature ID: DFC}\\
Name: Digital Flight Controls\\
Description: Commands for controlling flight of MAV. Includes stability control and automatic hover.\\
Dependencies: None\\
Input: DPROC\\
Output: DPROC\\

\noindent
\textbf{Feature ID: COLWA}\\
Name: Collision Warning\\
Description: Warn pilot of incoming obstacle.\\
Dependencies: None\\
Input: DPROC\\
Outputs: DPROC, COLAV\\

\noindent
\textbf{Feature ID: COLAV}\\
Name: Collision Avoidance\\
Description: Override MAV controls whenever an obstacle is detected.\\
Dependencies: COLWA, DFC\\
Input: DPROC, COLWA\\
Output: DRPOC\\

\noindent
\textbf{Feature ID: IREC}\\
Name: Image Recognition\\
Description: Process camera and range sensor data for locating and recognizing helipad targets. Aligns MAV over target.\\
Dependencies: DFC\\
Input: DPROC\\
Output: DPROC

\subsection{Competition Walkthrough}
The MAV must complete a mission that is themed as Washington’s Flight for Liberty. The MAV's mission performance is the standard to which the OSU team's software will be held. Objectives of the mission are described below (please refer to Figure 1 for the visual):
\begin{enumerate}
\item The mission begins with the MAV parked at Thomas Paine’s helipad. Upon the start of a ten minute timer, the MAV must do the following:
\begin{enumerate}
\item Take off from the helipad.
\item Hover for ten seconds.
\item Acquire Package A.
\item Hover for ten seconds.
\item Fly North until reached the net barrier.
\end{enumerate}
\item Upon reaching the the barrier, the pilot must:
\begin{enumerate}
\item Climb MAV 1.83 meters, plus a safe height, above the barrier.
\item Spot and verbally express visual contact with McKonkey’s Ferry.
\item Fly north, descending to a safe height, until reached and passed the center line of McKonkey’s Ferry, by approximately 0.5 meters.
\end{enumerate}
\item Once within 0.91 meters from the northern side of McKonkey’s Ferry, the MAV must head east, until crossed Delaware River and reached Pamphlet Delivery helipad.
\item At Pamphlet Delivery helipad, the MAV must release the package, as close to the bullseye as possible.
\item After releasing the package, the pilot must maneuver MAV south, to Camp Washington Pickup Zone. On its way, the MAV must:
\begin{enumerate}
\item Fly over a 1.22 meter high barrier.
\item Fly under a 0.61 meter obstacle.
\end{enumerate}
\item At the Camp Washington Pickup Zone, the MAV must:
\begin{enumerate}
\item Acquire Package B.
\item Hover for ten seconds.
\item Head back to Thomas Paine’s helipad, reversing the route.
\end{enumerate}
\item Upon reaching Thomas Paine’s helipad, the pilot must:
\begin{enumerate}
\item Verbally express visual contact with Thomas Paine’s helipad.
\item Have the MAV release the package as close to the bullseye as possible.
\item Land the MAV within 0.91 meters of the helipad.
\end{enumerate}
\end{enumerate}
\begin{figure}[h!]
\centering
\includegraphics[width=0.5\textwidth]{graphics/course_map.eps}
\caption{Course Map}
\end{figure}

\subsection{Verification}
Measurement is done by the qualitative assessment of mission phases described below:
\begin{description}
\item[Take off and Hover] The MAV must perform a stable hover, above base, at a height of two meters.
\item[En Route to Delivery/Pickup Area] The MAV must have a clearly-announced, timed, and smooth transition to the package delivery and package pick up sites.
\item[Obstacle Avoidance]The MAV must avoid obstacles between the home base the target search area. Metrics include successful avoidance and smoothness of flight around obstacles.
\item[Target Acquisition] The MAV must establish a stable hover for at least five seconds over each delivery/pickup location target and smoothly transition between searching, hover, and drop-off/pickup phases. Metrics include lateral target tracking error and stable roll/pitch performance.
\item[En Route Return to Base] The MAV must return to base with a user signal. Remote operator can use LOS. "Base" can use homing beacons for autonomous return to base. Metrics include qualitative smoothness of transitions and time to acquire stable hover over base.
\item[Hover and Landing] The MAV must acquire a stable hover, two meters above base, before landing. Metrics include hover and landing performance, as well as, distance from the center of the helipad.
\end{description}

\end{document}
